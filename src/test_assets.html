<link rel="stylesheet" type="text/css" href="/animate.css"></link>
<script type="module">
import * as Assets from './assets.js';
import {assets} from './assets.js';

var resolver = null;
var button_clicked = new Promise((r) => { resolver = r; });
var b = document.createElement('button');
b.onclick = function() { resolver(); };
document.body.appendChild(b);

var music = {
  'base_path': './assets',
  'coin': '135936__bradwesson__collectcoin.wav',
  'error': '142608__autistic-lucario__error.wav',
  'happy': '335361__cabled-mess__little-happy-tune-22-10.wav',
  'coins': '341695__projectsu012__coins-1.wav',
}

console.log(music);
console.log(Assets);

(async function() {
  await Assets.loadMusic(music);
  console.log("loaded");
  await button_clicked;
  console.log("interaction done!");

  assets.audio.get("happy").loop = true;
  assets.audio.get("happy").play();
})();

window.Assets = Assets;
</script>
<body>
</body>
